<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DC: Dark Legion Champion Roster</title>
    <!-- Tailwind CSS CDN for easy styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles to override or extend Tailwind for specific elements */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a2e; /* Dark background */
            color: #e0e0e0; /* Light text */
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .character-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr); /* Five champions per row for desktop */
            gap: 8px; /* Small gap between cards */
            padding: 20px;
            justify-content: center;
        }

        .character-card {
            position: relative;
            background-color: #0f3460; /* Dark blue card background */
            border-radius: 10px;
            overflow: visible; /* Ensures tooltip is not clipped */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s ease-in-out;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            height: 220px; /* Adjusted height to accommodate taller portrait image */
            justify-content: space-between; /* Distribute content vertically */
        }

        .character-card:hover {
            transform: scale(1.08); /* Slightly larger grow effect */
        }

        .character-card img {
            width: 100%; /* Image fills the width of the card */
            height: 160px; /* Adjusted height for portrait image */
            object-fit: cover;
            border: 3px solid #e94560; /* Red border for accent */
            margin-bottom: 5px; /* Adjusted margin for better fit */
            border-radius: 5px; /* Slightly rounded corners for the image itself */
        }

        .character-card h3 {
            margin: 0;
            color: #bae8e8; /* Light blue for name */
            text-align: center;
            font-size: 1.1em;
            white-space: nowrap; /* Prevent name from wrapping */
            overflow: hidden; /* Hide overflow if name is too long */
            text-overflow: ellipsis; /* Add ellipsis for long names */
        }

        /* Tooltip styles */
        .tooltip {
            visibility: hidden;
            background-color: rgba(0, 0, 0, 0.9); /* Darker, slightly transparent background */
            color: #fff;
            text-align: left;
            border-radius: 8px; /* More rounded corners */
            padding: 12px 18px;
            position: absolute;
            z-index: 10; /* Ensure tooltip is on top */
            bottom: calc(100% + 15px); /* Position above the portrait with more space */
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
            min-width: 220px; /* Slightly wider tooltip */
            max-width: 300px; /* Max width to prevent overly wide tooltips */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6); /* Stronger shadow */
        }

        .character-card:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }

        .tooltip::after {
            content: "";
            position: absolute;
            top: 100%; /* Arrow pointing down from tooltip */
            left: 50%;
            margin-left: -8px; /* Adjust for larger arrow */
            border-width: 8px; /* Larger arrow */
            border-style: solid;
            border-color: rgba(0, 0, 0, 0.9) transparent transparent transparent;
        }

        .tooltip p {
            margin: 4px 0; /* Slightly less margin for compact info */
            font-size: 0.95em; /* Slightly larger font */
            line-height: 1.4;
        }

        .tooltip strong {
            color: #e94560; /* Accent color for labels */
        }

        /* Responsive adjustments */
        @media (max-width: 1024px) { /* Adjust for larger tablets/smaller desktops */
            .character-grid {
                grid-template-columns: repeat(4, 1fr); /* Four champions per row */
                gap: 7px;
            }
            .character-card {
                height: 200px; /* Adjusted height for smaller screens */
            }
            .character-card img {
                height: 130px; /* Adjusted height for smaller screens */
            }
        }

        @media (max-width: 768px) {
            .character-grid {
                grid-template-columns: repeat(3, 1fr); /* Three champions per row */
                gap: 6px;
            }
            .character-card {
                height: 180px;
            }
            .character-card img {
                height: 110px; /* Adjusted height for smaller screens */
            }
            .character-card h3 {
                font-size: 1em;
            }
            .tooltip {
                min-width: 180px;
                padding: 10px 12px;
                font-size: 0.9em;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            .character-grid {
                grid-template-columns: repeat(2, 1fr); /* Two champions per row */
                gap: 4px;
            }
            .character-card {
                height: 160px;
                padding: 8px;
            }
            .character-card img {
                height: 90px; /* Adjusted height for smallest screens */
            }
            .character-card h3 {
                font-size: 0.9em;
            }
            .tooltip {
                min-width: 150px;
                padding: 8px 10px;
                font-size: 0.85em;
            }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 p-5">
    <header class="text-center mb-8">
        <h1 class="text-4xl font-bold text-red-500 mb-2">DC: Dark Legion Champion Roster</h1>
        <p class="text-lg text-gray-300">Explore the heroes and villains of the Dark Multiverse!</p>
    </header>

    <div class="controls flex flex-wrap justify-center items-center gap-4 mb-8 p-4 bg-gray-800 rounded-lg shadow-lg">
        <!-- Primary Sort -->
        <label for="sort-by" class="text-lg font-semibold text-blue-300">Sort by:</label>
        <select id="sort-by" class="p-2 rounded-md bg-gray-700 border border-blue-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="name">Name</option>
            <option value="class">Class</option>
            <option value="factions">Factions</option>
            <option value="tier">Tier Ranking</option>
        </select>
        <button id="sort-direction" class="px-4 py-2 rounded-md bg-red-600 text-white font-semibold hover:bg-red-700 transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-red-500">Ascending</button>

        <div class="w-full h-px bg-gray-700 my-4 md:hidden"></div> <!-- Separator for mobile -->

        <!-- Filter Dropdowns -->
        <label for="filter-class" class="text-lg font-semibold text-blue-300">Class:</label>
        <select id="filter-class" class="p-2 rounded-md bg-gray-700 border border-blue-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="All">All Classes</option>
            <option value="Assassin">Assassin</option>
            <option value="Firepower">Firepower</option>
            <option value="Guardian">Guardian</option>
            <option value="Intimidator">Intimidator</option>
            <option value="Magical">Magical</option>
            <option value="Supporter">Supporter</option>
            <option value="Warrior">Warrior</option>
        </select>

        <label for="filter-factions" class="text-lg font-semibold text-blue-300">Faction:</label>
        <select id="filter-factions" class="p-2 rounded-md bg-gray-700 border border-blue-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="All">All Factions</option>
            <option value="Arkhams Most Wanted">Arkham's Most Wanted</option>
            <option value="Amazons">Amazons</option>
            <option value="Atlantean">Atlantean</option>
            <option value="Bat Family">Bat Family</option>
            <option value="Birds of Prey">Birds of Prey</option>
            <option value="Energy Wielder">Energy Wielder</option>
            <option value="Green Lantern Corps">Green Lantern Corps</option>
            <option value="Justice League">Justice League</option>
            <option value="Justice League Dark">Justice League Dark</option>
            <option value="League of Assassins">League of Assassins</option>
            <option value="Legion of Doom">Legion of Doom</option>
            <option value="Metahuman">Metahuman</option>
            <option value="Outsiders">Outsiders</option>
            <option value="Suicide Squad">Suicide Squad</option>
            <option value="Superman Family">Superman Family</option>
            <option value="The Flash Family">The Flash Family</option>
            <option value="Teen Titans">Teen Titans</option>
            <option value="Weapon Master">Weapon Master</option>
        </select>

        <label for="filter-tier" class="text-lg font-semibold text-blue-300">Tier:</label>
        <select id="filter-tier" class="p-2 rounded-md bg-gray-700 border border-blue-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="All">All Tiers</option>
            <option value="S">S</option>
            <option value="A+">A+</option>
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
            <option value="D">D</option>
        </select>

        <label for="filter-game-modes" class="text-lg font-semibold text-blue-300">Game Mode:</label>
        <select id="filter-game-modes" class="p-2 rounded-md bg-gray-700 border border-blue-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="All">All Modes</option>
            <option value="Combat Cycle">Combat Cycle</option>
            <option value="Training Simulator">Training Simulator</option>
            <option value="Meta Brawl">Meta Brawl</option>
            <option value="3v3">3v3</option>
            <option value="Vehicle Combat">Vehicle Combat</option>
            <option value="ACN">ACN</option>
            <option value="Story Mode">Story Mode</option>
        </select>

        <button id="reset-filters" class="px-4 py-2 rounded-md bg-gray-600 text-white font-semibold hover:bg-gray-700 transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-gray-500">Reset Filters</button>
    </div>

    <div id="character-grid" class="character-grid w-full max-w-6xl mx-auto">
        <!-- Character portraits will be injected here by JavaScript -->
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Champion Data - Updated with more diverse classes, factions, tiers, and game modes
            let champions = [
                {
                    id: 'connerkent',
                    name: 'Conner Kent',
                    class: 'Supporter',
                    factions: ['Superman Family', 'Metahuman'],
                    tier: 'A+',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/Conner_Kent.png'
                },
                {
                    id: 'krypto',
                    name: 'Krypto',
                    class: 'Supporter',
                    factions: ['Superman Family', 'Metahuman'],
                    tier: 'S',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/Krypto.png'
                },
                {
                    id: 'supergirl',
                    name: 'Supergirl',
                    class: 'Warrior',
                    factions: ['Superman Family', 'Metahuman'],
                    tier: 'S',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/Supergirl.png'
                },
                {
                    id: 'aquaman',
                    name: 'Aquaman',
                    class: 'Firepower',
                    factions: ['Justice League', 'Metahuman', 'Atlantean'],
                    tier: 'B',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/aquaman.png'
                },
                {
                    id: 'arsenal',
                    name: 'Arsenal',
                    class: 'Firepower',
                    factions: ['Outsiders', 'Weapon Master', 'Teen Titans'],
                    tier: 'D',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/arsenal.png'
                },
                {
                    id: 'atom',
                    name: 'The Atom',
                    class: 'Warrior',
                    factions: ['Justice League', 'Teen Titans', 'Metahuman'],
                    tier: 'C',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/atom.png'
                },
                {
                    id: 'bane',
                    name: 'Bane',
                    class: 'Guardian',
                    factions: ['League of Assassins', 'Arkhams Most Wanted', 'Metahuman'],
                    tier: 'B',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/bane.png'
                },
                {
                    id: 'batgirl',
                    name: 'Batgirl',
                    class: 'Supporter',
                    factions: ['Bat Family', 'Birds of Prey', 'Weapon Master'],
                    tier: 'A',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/batgirl.png'
                },
                {
                    id: 'batman',
                    name: 'Batman',
                    class: 'Warrior',
                    factions: ['Bat Family', 'Justice League', 'Weapon Master'],
                    tier: 'A',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/batman.png'
                },
                {
                    id: 'blackadam',
                    name: 'Black Adam',
                    class: 'Magical',
                    factions: ['Legion of Doom', 'Metahuman'],
                    tier: 'C',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/black%20adam.png'
                },
                {
                    id: 'blackcanary',
                    name: 'Black Canary',
                    class: 'Intimidator',
                    factions: ['Birds of Prey', 'Metahuman'],
                    tier: 'D',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/black%20canary.png'
                },
                {
                    id: 'captaincold',
                    name: 'Captain Cold',
                    class: 'Intimidator',
                    factions: ['Suicide Squad', 'Legion of Doom', 'Weapon Master'],
                    tier: 'B',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/captain%20cold.png'
                },
                {
                    id: 'catwoman',
                    name: 'Catwoman',
                    class: 'Warrior',
                    factions: ['Birds', 'Arkhams Most Wanted', 'Weapon Master'],
                    tier: 'D',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/catwoman.png'
                },
                {
                    id: 'constantine',
                    name: 'Constantine',
                    class: 'Magical',
                    factions: ['Justice League Dark', 'Energy Wielder'],
                    tier: 'S',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/constantine.png'
                },
                {
                    id: 'cyborg',
                    name: 'Cyborg',
                    class: 'Intimidator',
                    factions: ['Teen Titans', 'Justice League', 'Weapon Master'],
                    tier: 'B',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/cyborg.png'
                },
                {
                    id: 'deadshot',
                    name: 'Deadshot',
                    class: 'Firepower',
                    factions: ['Suicide Squad', 'Weapon Master'],
                    tier: 'D',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/deadshot.png'
                },
                {
                    id: 'deathstroke',
                    name: 'Deathstroke',
                    class: 'Assassin',
                    factions: ['League of Assassins', 'Legion of Doom', 'Weapon Master'],
                    tier: 'A+',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/deathstroke.png'
                },
                {
                    id: 'drfate',
                    name: 'Doctor Fate',
                    class: 'Guardian',
                    factions: ['Justice League Dark', 'Energy Wielder'],
                    tier: 'A+',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/dr%20fate.png'
                },
                {
                    id: 'flash',
                    name: 'Flash',
                    class: 'Supporter',
                    factions: ['Justice League', 'The Flash Family', 'Metahuman'],
                    tier: 'A+',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/flash.png'
                },
                {
                    id: 'greenarrow',
                    name: 'Green Arrow',
                    class: 'Firepower',
                    factions: ['Justice League', 'Weapon Master'],
                    tier: 'A',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/green%20arrow.png'
                },
                {
                    id: 'greenlantern',
                    name: 'Green Lantern',
                    class: 'Supporter',
                    factions: ['Justice League', 'Green Lantern Corps', 'Energy Wielder'],
                    tier: 'S',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/green%20lantern.png'
                },
                {
                    id: 'harleyquinn',
                    name: 'Harley Quinn',
                    class: 'Warrior',
                    factions: ['Suicide Squad', 'Birds of Prey', 'Weapon Master'],
                    tier: 'B',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/harley%20quinn.png'
                },
                {
                    id: 'hawkgirl',
                    name: 'Hawkgirl',
                    class: 'Warrior',
                    factions: ['Birds of Prey', 'Justice League', 'Weapon Master'],
                    tier: 'B',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/hawkgirl.png'
                },
                {
                    id: 'killercroc',
                    name: 'Killer Croc',
                    class: 'Guardian',
                    factions: ['Suicide Squad', 'Legion of Doom', 'Metahuman'],
                    tier: 'C',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/killer%20croc.png'
                },
                {
                    id: 'lexluthor',
                    name: 'Lex Luthor',
                    class: 'Firepower',
                    factions: ['Legion of Doom', 'Weapon Master'],
                    tier: 'A',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/lex%20luthor.png'
                },
                {
                    id: 'martianmanhunter',
                    name: 'Martian Manhunter',
                    class: 'Warrior',
                    factions: ['Outsiders', 'Justice League', 'Metahuman'],
                    tier: 'S',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/mmh%20portrait.png'
                },
                {
                    id: 'mera',
                    name: 'Mera',
                    class: 'Supporter',
                    factions: ['Atlantean', 'Energy Wielder'],
                    tier: 'B',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/mera.png'
                },
                {
                    id: 'nightwing',
                    name: 'Nightwing',
                    class: 'Assassin',
                    factions: ['Teen Titans', 'Bat Family', 'Weapon Master'],
                    tier: 'S',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/nightwing.png'
                },
                {
                    id: 'poisonivy',
                    name: 'Poison Ivy',
                    class: 'Supporter',
                    factions: ['Birds of Prey', 'Arkhams Most Wanted', 'Energy Wielder'],
                    tier: 'A+',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/poison%20ivy.png'
                },
                {
                    id: 'rasalghul',
                    name: 'Ras al Ghul',
                    class: 'Assassin',
                    factions: ['League of Assassins', 'Metahuman'],
                    tier: 'B',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/ras%20al%20ghul.png'
                },
                {
                    id: 'raven',
                    name: 'Raven',
                    class: 'Supporter',
                    factions: ['Teen Titans', 'Justice League Dark', 'Energy Wielder'],
                    tier: 'A+',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/raven.png'
                },
                {
                    id: 'redhood',
                    name: 'Red Hood',
                    class: 'Firepower',
                    factions: ['League of Assassins', 'Bat Family', 'Weapon Master'],
                    tier: 'C',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/red%20hood.png'
                },
                {
                    id: 'redrobin',
                    name: 'Red Robin',
                    class: 'Guardian',
                    factions: ['Teen Titans', 'Bat Family', 'Weapon Master'],
                    tier: 'C',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/red%20robin.png'
                },
                {
                    id: 'robin',
                    name: 'Robin',
                    class: 'Assassin',
                    factions: ['Teen Titans', 'Bat Family', 'Weapon Master'],
                    tier: 'A',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/robin.png'
                },
                {
                    id: 'scarecrow',
                    name: 'Scarecrow',
                    class: 'Guardian',
                    factions: ['Legion of Doom', 'Arkhams Most Wanted', 'Weapon Master'],
                    tier: 'A+',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/scarecrow.png'
                },
                {
                    id: 'shazam',
                    name: 'Shazam',
                    class: 'Guardian',
                    factions: ['Justice League', 'Metahuman'],
                    tier: 'A',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/shazam.png'
                },
                {
                    id: 'sinestro',
                    name: 'Sinestro',
                    class: 'Magical',
                    factions: ['Legion of Doom', 'Energy Wielder'],
                    tier: 'S',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/sinestro.png'
                },
                {
                    id: 'starfire',
                    name: 'Starfire',
                    class: 'Supporter',
                    factions: ['Outsiders', 'Teen Titans', 'Energy Wielder'],
                    tier: 'S',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/starfire.png'
                },
                {
                    id: 'superman',
                    name: 'Superman',
                    class: 'Warrior',
                    factions: ['Superman Family', 'Metahuman'],
                    tier: 'S',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/superman.png'
                },
                {
                    id: 'thejoker',
                    name: 'The Joker',
                    class: 'Intimidator',
                    factions: ['Arkhams Most Wanted', 'Weapon Master'],
                    tier: 'A+',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/the%20joker.png'
                },
                {
                    id: 'thepenguin',
                    name: 'The Penguin',
                    class: 'Intimidator',
                    factions: ['Arkhams Most Wanted', 'Weapon Master'],
                    tier: 'D',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/the%20penguin.png'
                },
                {
                    id: 'twoface',
                    name: 'Two Face',
                    class: 'Firepower',
                    factions: ['Arkhams Most Wanted', 'Weapon Master'],
                    tier: 'C',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/two%20face.png'
                },
                {
                    id: 'vixen',
                    name: 'Vixen',
                    class: 'Supporter',
                    factions: ['Birds of Prey', 'Metahuman'],
                    tier: 'D',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/vixen.png'
                },
                {
                    id: 'wonderwoman',
                    name: 'Wonder Woman',
                    class: 'Guardian',
                    factions: ['Justice League', 'Justice League Dark', 'Amazons', 'Metahuman'],
                    tier: 'A',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/wonder%20woman.png'
                },
                {
                    id: 'zatanna',
                    name: 'Zatanna',
                    class: 'Supporter',
                    factions: ['Justice League Dark', 'Energy Wielder'],
                    tier: 'A',
                    gameModes: ['Combat Cycle', 'Story Mode'],
                    image: 'https://raw.githubusercontent.com/qu4ntum88/DCDLWebsite/master/public/Champion%20Avatars/zatanna.png'
                }        
            ];

            const characterGrid = document.getElementById('character-grid');
            const sortBySelect = document.getElementById('sort-by');
            const sortDirectionButton = document.getElementById('sort-direction');

            // New filter dropdowns and reset button
            const filterClassSelect = document.getElementById('filter-class');
            const filterFactionsSelect = document.getElementById('filter-factions');
            const filterTierSelect = document.getElementById('filter-tier');
            const filterGameModesSelect = document.getElementById('filter-game-modes');
            const resetFiltersButton = document.getElementById('reset-filters');

            let currentSortKey = 'name';
            let sortAscending = true; // true for ascending, false for descending
            let currentFilterClass = 'All';
            let currentFilterFaction = 'All';
            let currentFilterTier = 'All';
            let currentFilterGameMode = 'All';

            /**
             * Renders the character cards into the grid.
             * @param {Array<Object>} chars - The array of champion objects to render.
             */
            function renderCharacters(chars) {
                characterGrid.innerHTML = ''; // Clear existing content to re-render
                chars.forEach(champion => {
                    const card = document.createElement('div');
                    card.classList.add('character-card', 'rounded-xl', 'p-3', 'flex', 'flex-col', 'items-center', 'justify-between', 'transform', 'hover:scale-105', 'transition-transform', 'duration-200', 'ease-in-out', 'shadow-lg', 'bg-gradient-to-br', 'from-blue-900', 'to-purple-900'); // Added Tailwind classes for styling

                    // Create the tooltip content
                    const tooltipContent = `
                        <p><strong>Class:</strong> ${champion.class}</p>
                        <p><strong>Factions:</strong> ${champion.factions.join(', ')}</p>
                        <p><strong>Tier:</strong> ${champion.tier}</p>
                        <p><strong>Best Modes:</strong> ${champion.gameModes.join(', ')}</p>
                    `;

                    card.innerHTML = `
                        <img src="${champion.image}" alt="${champion.name} Portrait" class="w-full h-[160px] object-cover border-4 border-red-500 mb-1">
                        <h3 class="text-lg font-semibold text-blue-200 text-center">${champion.name}</h3>
                        <div class="tooltip absolute bg-gray-800 text-white text-sm rounded-lg p-3 shadow-xl z-10 opacity-0 invisible transition-all duration-300 ease-in-out">
                            ${tooltipContent}
                            <div class="tooltip-arrow absolute w-0 h-0 border-l-8 border-r-8 border-t-8 border-solid border-transparent border-t-gray-800 bottom-[-8px] left-1/2 -translate-x-1/2"></div>
                        </div>
                    `;
                    characterGrid.appendChild(card);
                });
            }

            /**
             * Filters and sorts the champions array based on current selections.
             */
            function filterAndSortChampions() {
                let filteredChampions = champions.filter(champion => {
                    // Filter by Class
                    if (currentFilterClass !== 'All' && champion.class !== currentFilterClass) {
                        return false;
                    }
                    // Filter by Faction (check if the champion has the selected faction)
                    if (currentFilterFaction !== 'All' && !champion.factions.includes(currentFilterFaction)) {
                        return false;
                    }
                    // Filter by Tier
                    if (currentFilterTier !== 'All' && champion.tier !== currentFilterTier) {
                        return false;
                    }
                    // Filter by Game Mode (check if the champion has the selected game mode)
                    if (currentFilterGameMode !== 'All' && !champion.gameModes.includes(currentFilterGameMode)) {
                        return false;
                    }
                    return true; // Champion passes all filters
                });

                // Now sort the filtered champions
                filteredChampions.sort((a, b) => {
                    let valA, valB;

                    if (currentSortKey === 'factions') {
                        // For factions, sort by the first faction alphabetically.
                        valA = a.factions.length > 0 ? a.factions.slice().sort().join(', ').toLowerCase() : '';
                        valB = b.factions.length > 0 ? b.factions.slice().sort().join(', ').toLowerCase() : '';
                    } else if (currentSortKey === 'tier') {
                        // Custom sort order for tier rankings (S+, S, A+, A, B+, B, C, D...)
                        const tierOrder = {
                            'S+': 0, 'S': 1, 'A+': 2, 'A': 3, 'B+': 4, 'B': 5, 'C': 6, 'D': 7,
                        };
                        valA = tierOrder[a.tier] !== undefined ? tierOrder[a.tier] : Infinity;
                        valB = tierOrder[b.tier] !== undefined ? tierOrder[b.tier] : Infinity;
                    } else {
                        // Default alphabetical sort for name and class
                        valA = String(a[currentSortKey]).toLowerCase();
                        valB = String(b[currentSortKey]).toLowerCase();
                    }

                    if (valA < valB) {
                        return sortAscending ? -1 : 1;
                    }
                    if (valA > valB) {
                        return sortAscending ? 1 : -1;
                    }
                    return 0; // Values are equal
                });

                renderCharacters(filteredChampions);
            }

            // Event listeners for sorting controls
            sortBySelect.addEventListener('change', (event) => {
                currentSortKey = event.target.value;
                filterAndSortChampions();
            });

            sortDirectionButton.addEventListener('click', () => {
                sortAscending = !sortAscending;
                sortDirectionButton.textContent = sortAscending ? 'Ascending' : 'Descending';
                filterAndSortChampions();
            });

            // Event listeners for filter dropdowns
            filterClassSelect.addEventListener('change', (event) => {
                currentFilterClass = event.target.value;
                filterAndSortChampions();
            });

            filterFactionsSelect.addEventListener('change', (event) => {
                currentFilterFaction = event.target.value;
                filterAndSortChampions();
            });

            filterTierSelect.addEventListener('change', (event) => {
                currentFilterTier = event.target.value;
                filterAndSortChampions();
            });

            filterGameModesSelect.addEventListener('change', (event) => {
                currentFilterGameMode = event.target.value;
                filterAndSortChampions();
            });

            // Event listener for reset filters button
            resetFiltersButton.addEventListener('click', () => {
                // Reset all filter dropdowns to 'All'
                filterClassSelect.value = 'All';
                filterFactionsSelect.value = 'All';
                filterTierSelect.value = 'All';
                filterGameModesSelect.value = 'All';

                // Reset filter state variables
                currentFilterClass = 'All';
                currentFilterFaction = 'All';
                currentFilterTier = 'All';
                currentFilterGameMode = 'All';

                // Reset primary sort to default
                sortBySelect.value = 'name';
                currentSortKey = 'name';
                sortAscending = true;
                sortDirectionButton.textContent = 'Ascending';

                filterAndSortChampions(); // Re-filter and re-sort
            });

            // Initial render of champions when the page loads
            filterAndSortChampions();
        });
    </script>
</body>
</html>
